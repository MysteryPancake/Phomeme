hi everybody welcome to another tutorial I just completed the quick D ambiguous cylinder episode and in it I jokingly grumble about how they make anything YouTube channel beat me to the punch but in reality it's great that he did that and he also put a very detailed follow-up video showing how he went about creating the three D model now I also had to create a three D model for my video of course which was demonstrating in an animation how everything worked and it occurred to me how both tasks seems to be the same thing just building a three D asset but they're completely different approaches because one is for making something realistic for a three D print and another is making something that would be convenient and clear to animate and manipulate in different ways so I thought it'd be interesting to show my method for how I worked with this and how I made all of this kind of manipulation possible so let's dive into that and open blender which is where I did everything so blender is free as I said before so you can download it and follow along and do everything I do for once in our miserable lives we're not gonna delete this default queue we're actually going to use it to start making our our model so I'll tap into edit mode and I'll immediately remove the top and bottom faces from the cube and I'll take the whole thing and rotate it on the z axis by fourty five degrees so we have that kind of diamond orientation to it now the name of the game with all of this is keep the geometry as minimal as possible because we have to deform the object in different ways and it's hard to do that when the model is very detailed or dense so the less detail we have the better and I know one thing which is that through all of its deformations the cylinder really is symmetrical on in one axis on the x axis in this case so I'm gonna get rid of one side of these faces and instead use a mirror modifier to just replicate the other side so now we can just work on one side and like whatever I do here is gonna repeat over there but I don't want this kind of thing to happen where it splits or it can cross into itself so I'll enable this clipping box and now it can never cross the horizon line and also once it's there it can be pulled apart because the vertices get merged and that's what we want now let's just go back into my animation and look again what kind of things do we need to achieve here first we show the cylinder in its ambiguous state and I say something like it's the ambigú cylinder isn't neither round nor square it's halfway in between so we're gonna need this cylinder to be able to morph into a circle into a real circle and into a square and later of course we needed to actually do that that s-curve all in the same model so let's take it one step at a time we got our square version already we're gonna need to morph it into other shapes so it's not going to be enough to just have two faces I'm gonna take each face and I'm gonna use control R and just scroll my mouse wheel to create three loop cuts on each side here and now I've turned each of these single faces into four faces making eight faces across both and if you count the whole thing that's sixteen faces alright so now we have something to work with but from this point on the all of the geometry is just going to be this I'm not gonna add any more vertices or any more edges or any more faces and I'm gonna be able to make this object look like you see in this actual video with just this geometry so let's let's proceed to make this morph into a perfect circular cylinder I'll make a circular cylinder to use as a reference as a sort of template for the deformation of this one so I'm gonna press shift a choose mesh cylinder and while I have its settings over here I'm just going to do all the same stuff I did to the square which is make sure that it doesn't have a top of bottom and we counted the the square to have sixteen sides this one has thirty two vertices right now so let's change that to sixteen as well and now we've got two meshes that are basically the same thing it's just one is arranged in a circle one is arranged in a square so the thing that's gonna make it possible to animate the cylinder changing shape is a feature in blender called shape keys and it's a way to deform an object and store that deformed version in the data of the object itself so you can kind of morph between the different shapes so it's object data which can be looked at in the object data tab here and we have a shape keys field and it's empty right now if we press this plus button we add a shape key but this in this initial shape key is just kind of a record of what the the object looks like by default so it's it gets called basis automatically and if we press the + again we add our first actual deformation key and here's where we will do something different I could for instance with this key highlighted go in to edit mode and just like raise the this point or something right and when I stab back out it snaps right back into a square because that deformation is stored in here but the value of this key is zero right now and if we move this slider up to one we get that deformation and we can also get it anywhere in between from its default look to its final deformation so this slider can be animated and that way you can have some deforming motion I could add another key and go in and maybe do some different thing like move these points out and now this key controls that deformation but the cool thing is that we can have them both do something and they're both influencing the same object and kind of interacting and mixing with each other so there's a lot of different stuff you can do you can animate a character's face this way now I'm gonna delete these two shape keys I made just as an example and I'm gonna go ahead and add a new one and let's actually deform our square into the circle all that involves is just taking each of these vertical edges and moving them to align them with the corresponding edges on the circle so I could move things by pressing G but to prevent in this case the thing from going up and down I can press shift-z to keep it just moving along the ground and it would be very hard to just like eyeball the alignment for each of them it wouldn't be precise even if we tried luckily we have this snapping feature so I'll turn on snapping and I'll change it to edge and now when I do the G shift-z movement I can just hover over the edge of the circular cylinder that I want and it snaps right on it so let's just go through it and do that with each edge and we don't really have a lot because we just have to go one eighty degrees so I'm just doing them one after another and even if they look like they're kind of aligned I just go ahead and align them to be perfect all right that's it now I'm gonna snap out of it and it's gonna go back to a square let me hide my my reference cylinder and now if I select this I can morph it all the way into a circle great and of course the actual ambiguous cylinder shape that in between shape would be this thing at a value of zero point five there we get our ambiguous cylinder except it looks very faceted so it's probably a good idea to smooth all this out first I can just click smooth here for the shading so it's not faceted on the on the walls of it but to get these edges to be smooth we're gonna have to subdivide the object so let's add a subdivision surface modifier and there's a shortcut for that you can just press control and then the number on the alphabetic keyboard of whatever level of subdivision you want so I'm gonna press control three and that added a subsurf modifier at a view level of three and I'll change the render to three as well so now it looks nice and smooth and back in shape keys that still works and it looks much nicer so that's great we technically we can use this to do that thing I do at the beginning of this animation where I say it's neither round nor square and then it becomes the ambiguous cylinder but now we have to pause and think because the next thing we're going to need to do in our animation is to create that s-curve now how am I going to do this because to design this curve I really do need to make very precise tweaks to get it to work but if I try to do that with the model the way it's arranged right now it's gonna be difficult because remember when we're in edit mode it just snaps into the actual shape that we created so it's gonna be a circle here I can't really work with the circle to create that s-curve because I have to keep coming out here to check if that makes sense nor can I do it in this basis shape because that's a square so it's kind of inconvenient what we really need is a version of this model where it just looks like this by default and then we have shape keys that that just preferably just one shaped key that can do that circle or square thing and that way we can do the s-curve without a problem well I can do that by let's let's go to this shape key and change it to zero point five to get this thing to look how we want and once it does we can press this little triangle and choose a new shape from mix and now it creates an additional key that actually does look like the ambigú of a cylinder by default so I can delete the other two and this kind of becomes the the basis the new base is not in fact I can just delete it as well and it's as if we modeled the ambiguous cylinder to look this way to begin with now I could add the the basis again and then a shape key and it's a little bit of a repetitive work but I'm gonna go ahead and unhide my my reference template circular cylinder and I'll go in here again and just repeat that process real quick G shift Z and snap to the edge and just go all the way around there we go halfway there this one and this one and this one and this one we're kind of back where we started let me get rid of this guy for good now we have a model of an ambiguous shaped cylinder that can morph into a circle and it does that from a value of zero to one but we could change the minimum value in the range to minus one and now we have a slider that's that has zero at the middle we can go into a circle but it can also extrapolate what would need to be the opposite of that move and kind of recreate the square just mathematically so now we have a more convenient object to former where it could just be at zero and it can when I do that you know that part in the animation where I say it's neither round nor square we could just animate this slider to do that and then it can land back on zero and we can proceed the only thing that we might want to fix is notice that in the square shape the subdivision surface modifier that we added is causing the corners to be pretty rounded and that's there's just like a little bit too rounded for my taste so we could compensate for that by creating another shape key let me just add that one where we will turn some of these nearby edges into what's called holding edges like if you have two edges closer together it allows you to to have sharper corners and in subdivision surfaces so then I'll go ahead and choose this edge and if I press G G is for grab and it moves items but if I press G twice it turns into an edge slide tool and it's still going in these little increments because we have snapping enabled so I'm going to take it all the way to align with that edge and then I'll go one two three four let's say and that way I could just count the same thing on all of them so I have even distribution so one two three four and then G G one two three four Jiji one two three four so now we have a shape key that kind of gets the corners to be sharper actually it might be doing it too much yeah it's kind of inverting it almost so let's compensate for that by first of all choosing those edges again and then changing our pivot point by pressing the period key to the three D cursor and then I'll press alt s to scale and I'm gonna kind of puff them out a little bit maybe like this and now hopefully that fixes that problem yeah now this shape key allows us to just sharpen those corners let's let's name things so we don't get lost this one is called square - round that's what this slider controls the squareness or roundness of the shape and when it's square this key will be called and it's gonna sharpen our edges for this for that moment of animation where it's square so now let's go back to its original state and we're ready to recreate the actual illusion but to do it accurately I'm gonna have to set up my workspace to actually be something like this so I can monitor everything at once but I should also give some thickness to the object because that that rim that edge really is what where we really see that effect happen so I think I should go ahead and do that before doing the s-curve and like I said we're not gonna add any more geometry I'll instead use another modifier called the solidify modifier to give the object some thickness and it has this thickness parameter which we can increase and as you can see it kind of gives it a girth but it's not only really looking correctly because it's all pillowy and smooth and it has these strange little creases the creases we can take care of by changing the modifier stack order because these modifiers are up slide in the order that they're listed so first our object is getting mirrored then it's getting smoothed out by the subsurf and then it gets solidified extruded in this way but the subsurf normally should be the last thing because it's putting out an overall smoothness to everything so we should place it last I can move it down the list with this arrow key once I do that I mean we don't have that creasing anymore but the object doesn't look anything like what we want because everything is getting smooth and the edges the thickness that is being created is kind of getting averaged out vertically as well so we need to employ another modifier to prevent that and that's the edge split modifier and nothing much changes because again the subsurf should be the last in the list so let's move it down again and then we get this it's kind of trying to do what we want it's giving us that flat rim on top but it's also giving us these strange errors and that's because the edge split by default is trying to use the edge angle it's kind of looking for things under thirty degrees to crease but because of the arrangement of these modifiers it's not really doing what we want so I'm going to disable the edge angle and just keep this on which is telling the edge split modifier to only splits edges that we manually designate it to be sharp but we haven't done that so it's not doing anything let's go into let's turn it off and go into the object in edit mode and alt select the whole top edge loop as well as the bottom edge loop and we're going to press control e to open the edges menu and choose mark sharp and now these edges have this little cyan color to them indicating they are sharp now when I come out and activate the edge split modifier it's giving us exactly what we needed it's still smooth shaded but it has this sharp rim and the thickness is being generated only by the solidify modifier which is great because we can proceed with building this object and we can even shade it and we can start doing our random we can do everything we needed to and at the last possible moment when we're gonna render our scene we might say you know I think it's too thick or something it doesn't look like the object in the original video I could just adjust the thickness there and it's not gonna change anything else it's not going to affect all the work we did so a couple other things you'll notice that the way it's extruded is our original geometry is kind of the outside wall and that it's extruded inside and that's controlled by this offset parameter it's set to negative one if I set it to one it's going to be the opposite our geometry is the inner wall and gets extruded out but I think in this particular case we're better off setting this to zero so that the real geometry is kind of in the center it's at the core of the wall and it's being padded on either side it's going to give us the most intuitive control over the shape I think it's also worth possibly activating this even thickness box because when we have this thing in its square state let's look at it from the top it kind of creates this little bit of garden hose kind of effect a pinching and turning on this even thickness will counteract that and keep everything evenly thick so that's it for the modifier stack it would pretty much achieved the shape of the reel of the real model so let's turn our attention back to the the shape Keys set this to zero and finally create the S shape to get the illusion to work now when I was making the final animation for this I was using the three D camera and I was animating it to be in the right place looking at things from the right angle we're not gonna do that in this tutorial I'm just making the model itself so we're simply gonna arrange our views the way we want first I'll press the one key on the number pad to go to the front orthographic view and then I'll tap the number eight key to incrementally orbit around the object upward at fifteen degree intervals and so if I press it three times it's going to give us the fourty five degree angle that we used in the video I'll also press n to open this properties panel and change the lens focal length to something high like a hundred maybe and then I'll have to pull back a little bit hide that panel again so we have our first view I'm going to split that off into another view press T to get rid of the tool panel and here we're we have another copy of this view I can press six on the number pad to orbit horizontally all the way around till it's one eighty degrees and it was looking familiar it's just like what I basically did in this demonstration and I'll split off yet another view and that's going to be where we actually do the work so we can do whatever one here I think primarily we should be in the side view we can finally create another shape key that's going to be our s-curve now let's go into edit mode here and I'll activate this little guy so we could see the edges and now we need to create the S shape it would be nice if we had some turnkey way to just control and s but there isn't a tool like that the closest I could think of is if we were to select this middle point and press o to turn on proportional editing and change the this fall-off type to linear we could then press R to rotate o and it probably helps if we I change our pivot point back to a median point so R to rotate and then use the scroll wheel on the mouse to increase that circle of influence and we can sort of create that S shape and as you can see as we start doing it on the left and the first view it's becoming more circular and in this the second view it's becoming more square but it never quite reaches the right ratio and it just starts to become distorted and that's because I gather we're not just moving these points up and down to make an S we're rotating them and it's they're like converging as you can see by these lines so they're not distorting the right way they're kind of creating an exponential distortion that just goes from not enough to too much the only way to really do it right would be to just take each point and move it up and down by hand and let's turn off proportional editing by pressing o so that's what we'll have to do and it's not a big deal because really we kept our geometry minimal so we know this point is not going to move we know this point is not going to move nor this one so we're really just talking about tweaking these three points and these three points to create our S shape so let's do that one by one as we keep our eye on on these views to see if the shape is turning out okay so I'll start raising this one and it's giving me that sort of nice circle that I guess makes sense something like this maybe and the opposite on this side mm-hmm it's not too bad but in the square it's a little bit distorted so we can also grab points here and do the same thing as long as we're just moving them up and down to just keep things consistent all right so everything is kind of looking right except it really feels like this this outer point should just be in a little bit and there's no rule that says we can't move it this way so let's just move it this way and see what happens and it really does help and I think what that tells us is that to really make the illusion work properly the cylinder has to be a little bit elongated in that direction that's when the effect works best just another little detail that we wouldn't know unless we played with this so there we are now this s curve shape key controls this transformation and does it fairly well and finally as you saw in the video the very last thing I'd show it was that the the corners actually need to be a little bit adjusted depending on like the length of your shot how far you are and what the focal length of the lens's as you can see I mean right here we can kind of see that effect these corners on the sides are a little bit sharper than these corners and so we would need to make kind of a tweak so I'll make one last shape key that's going to handle that animation and we'll call it I don't know now here I'll just have to guesstimate a little bit because I want to go into it it does not have the curve anymore but all I need to do is do another sort of holding edge trick where I will grab this point I'll press G G and just move it up toward the other point to sharpen it up a little bit GG this way and if I come out here I can see that it kind of tightens kind of sharpens the corner and maybe I could make it look more right if I go in and I guess lower this lower at this point a little bit and so raise this point a little bit and then I can just you know we would tweak it not all the way because that's too extreme but however we need to do it to make the corners look even let's say something like this and we're really there it might not look all the way convincing but you have to keep in mind that what we're seeing here is just this shaded view that has this arbitrary sort of fake lighting and reflections and it's not really that's not something we can control once we are lighting and rendering the scene we can smooth all this out because lighting plays a big part and making the illusion look convincing so but as far as the geometry this is plenty but you might have noticed that we've just been working on the top edge and maybe you've been screaming at me the whole time because this is remaining flat and none of this kind of looks good and in fact our cylinder is too short and stubby it doesn't look like the ones that were in the video but that's okay we can take care of all of that in one go by going back into our basis mesh and let's go into edit mode and normally once you have shape keys happening you don't want to delete or add any geometry on your object because it can kind of confuse the things and it can behave in an unexpected ways but our object again is so simply structured that I think I can get away with deleting these vertices and selecting all of this pressing key to extrude pressing Z to extrude along the z axis and let's go ahead and make it the height that I think professor Sugihara had in his original video that should work once we come out you see that that change has propagated to all our other shape keys and the s-curve is in fact replicated on the bottom as well which is how it should be to make it look right we lost our smooth shading so let's just click smooth again and there it is that's everything we needed to do physically on the model so we have it all rigged up now and we can do all of the things that I did in my animation which is once again show that the cylinder is neither round nor square for which we use this little sharpness helper and then it's somewhere in between which we go to zero and then yadda yadda yadda we can make the illusion work by doing this and of course we have to tweak the corners and so on and so forth and that's it you know the rest of it is really a matter of setting up the rest of the scene we'd want to put this up on the ground plane add a surface of some kind change two cycles render actually start lighting the scene in a convincing way maybe change this light reset its position and its rotation make it an area light make it square and fairly large and raise it up right above our object and maybe make it stronger like eight hundred or something size it up some more and focus on the object here recreate that fourty five degree angle and as you can see it is sort of holding up another thing I had to do in my video for some parts is fill in the hole inside the cylinder because when there is a real hole it kind of gives away these strange shadow artifacts that kind of give away the trick and I suspect that mr. Sugihara did have something like in there that would stop the light so that the shadow is just a solid shadow so I I just did the same thing in mind but the modeling work is done and we can go ahead and get into animation if we wanted to with this model and we don't have to think too much about the technicalities we can just be artistic and we can set all the keyframes and think about the timing and deform this as needed and make a cool dynamic video so if you find yourself building three D assets for some sort of educational or industrial animation think about how little you can get away with to make it look right and not necessarily replicate the real world but just make it convenient for yourself to animate things in an efficient and enjoyable way so thanks for watching see you next time
